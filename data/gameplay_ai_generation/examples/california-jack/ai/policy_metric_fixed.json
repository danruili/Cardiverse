{
    "game_description": "Rank of Cards\n\nA (high), K, Q, J, 10, 9, 8, 7, 6, 5, 4, 3, 2.\n\nDeal cards either one or three at a time, beginning with the opponent, until each player has six cards. The remaining cards are squared and turned face up in the center of the table, serving as a stock. The top card is the trump suit for that deal.\n\n### The Play\n\nThe player on the dealer's left leads. The card led loses the trick to a higher card of the same suit or to a trump, but wins the trick otherwise. The winner of each trick leads next. The second player to each trick must either follow suit or trump, if possible. If unable to follow suit or trump, they may play any card.\n\nThe winner of each trick draws the top card of the stock, and the loser takes the next card. Since the top card of the stock is always exposed, an object of play frequently is to win or lose a trick depending on whether the player wishes to draw the top card of the stock or take a chance on what the next card will be. When the stock is exhausted, the last six cards of each player's hand are played out until all cards have been played.\n\n### How to Keep Score\n\nOne point each is scored for taking the tricks that contain: High (ace of trumps), Low (deuce of trumps), Jack of trumps, and Game (the greatest number of points in counting cards, each ten counting 10 points, each ace 4, each king 3, each queen 2, each jack 1).\n\nThe first player to score 10 points wins the game. If both players reach 10 in the same hand, the points count in order: High, Low, Jack, Game.",
    "input_description": "Example: \n{\"common\": {\"num_players\": 2, \"current_player\": 0, \"current_leader\": 0, \"current_winner\": null, \"is_over\": true, \"winner\": 0, \"trump_suit\": \"clubs\", \"facedown_cards\": {\"deck_size\": 34}, \"faceup_cards\": {\"trump_card\": {\"rank\": \"8\", \"suit\": \"clubs\"}, \"current_trick\": []}}, \"players\": [{\"public\": {\"trick_points\": 10, \"current_player\": true}, \"private\": {}, \"facedown_cards\": {\"hand\": [{\"rank\": \"8\", \"suit\": \"hearts\"}, {\"rank\": \"7\", \"suit\": \"hearts\"}, {\"rank\": \"3\", \"suit\": \"spades\"}, {\"rank\": \"10\", \"suit\": \"diamonds\"}, {\"rank\": \"8\", \"suit\": \"clubs\"}, {\"rank\": \"5\", \"suit\": \"clubs\"}]}, \"faceup_cards\": {\"collected_cards\": [{\"rank\": \"6\", \"suit\": \"clubs\"}, {\"rank\": \"10\", \"suit\": \"clubs\"}]}}, {\"public\": {\"trick_points\": 4, \"final_showdown\": true}, \"facedown_cards\": {\"hand\": [{\"rank\": \"J\", \"suit\": \"spades\"}, {\"rank\": \"A\", \"suit\": \"spades\"}, {\"rank\": \"K\", \"suit\": \"diamonds\"}, {\"rank\": \"7\", \"suit\": \"spades\"}, {\"rank\": \"3\", \"suit\": \"diamonds\"}, {\"rank\": \"8\", \"suit\": \"diamonds\"}]}, \"faceup_cards\": {\"collected_cards\": [{\"rank\": \"K\", \"suit\": \"hearts\"}, {\"rank\": \"2\", \"suit\": \"clubs\"}, {\"rank\": \"6\", \"suit\": \"diamonds\"}, {\"rank\": \"5\", \"suit\": \"diamonds\"}]}}], \"recent_history\": [{\"type\": \"action\", \"player_id\": 0, \"action\": {\"action\": \"play\", \"args\": {\"suit\": \"clubs\", \"rank\": \"10\"}, \"id\": 1}, \"msg\": \"Player 0 decides to: play-(suit: clubs, rank: 10)\"}, {\"type\": \"info\", \"msg\": \"Player 0 plays 10-clubs.\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Trick complete: ['6-clubs', '10-clubs']\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Player 0 wins the trick with 10-clubs.\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Player 0 draws a card from the deck.\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Player 1 draws a card from the deck.\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Player 0 leads the next trick.\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Player 0 wins the game with 10 points. Collected cards: ['6-clubs', '10-clubs']\", \"role\": null}], \"legal_actions\": []}\n\nExplanation: \n{\"common\": \"This section contains data shared by all players, such as game configurations and the state of the deck and game.\", \"num_players\": \"The number of players in the game, which is 2.\", \"current_player\": \"The index of the player whose turn it is currently, starting from 0.\", \"current_leader\": \"The index of the player who led the current or most recent trick.\", \"current_winner\": \"Initially null, this would hold the index of the current winner if a trick is in progress.\", \"is_over\": \"A boolean indicating whether the game is over. True means the game has ended.\", \"winner\": \"The index of the player who won the game; null if the game isn't over yet. Here, it's player 0.\", \"trump_suit\": \"The trump suit of the game, which was determined during initialization. Here, it's 'clubs'.\", \"facedown_cards\": \"Cards specific to the player that are not visible to the opponents.\", \"deck_size\": \"The number of cards remaining in the deck. Here it is 34.\", \"faceup_cards\": \"Cards specific to the player that have been played or laid down openly.\", \"trump_card\": \"The card from the deck that determines the trump suit. Here it's the 8 of clubs.\", \"current_trick\": \"A list of cards that have been played in the current trick. It is empty here.\", \"players\": \"A list of player-specific data, each entry corresponding to a player.\", \"public\": \"Data about a player that is visible to all, such as their score or indicators if it's their turn.\", \"trick_points\": \"The total points the player has scored from tricks, based on game rules. Player 0 has 10.\", \"private\": \"This would hold player-specific information hidden from other players. It's empty in this context.\", \"hand\": \"Current cards in the player's hand. For player 0, this includes six identified cards.\", \"collected_cards\": \"A list of cards collected by a player, which have been won in tricks.\", \"recent_history\": \"A list of actions and events that have occurred in the game, in order.\", \"type\": \"Indicates the nature of the entry in the history, such as 'action' or 'info'.\", \"player_id\": \"The index of the player associated with a particular action entry.\", \"action\": \"Details of an action a player took, including the action type and any applicable arguments.\", \"msg\": \"Descriptive text explaining the action or event.\", \"roles\": \"Context or participation in the action/event, although null in this dataset.\", \"legal_actions\": \"A list of actions currently allowed for the current player, empty here, indicating there are none as the game is over.\"}",
    "policy_list": [
        "**Trump Suit Control**\nMeasures the number of trump cards in the AI player's hand, giving higher values to higher-ranked trump cards. This metric reflects the player's ability to win tricks with trumps and control the flow of the game.",
        "**Card Advantage**\nEvaluates the expected value of winning a trick based on the visible top card of the stock. The metric weighs the likelihood of beneficial card acquisition, such as acquiring high-value cards or critical trumps.",
        "**Suit Strength**\nQuantifies the strength of the AI player's cards in each non-trump suit based on card rank distribution. This informs the decision of when to lead or avoid certain suits, balancing the risk of losing control against the potential gain of winning more non-trump tricks.",
        "**Score Progression Potential**\nAssesses the potential to achieve scoring milestones (High, Low, Jack, and Game) given the current state of the hand and known cards. This metric prioritizes card plays that increase the chance of reaching the cumulative points needed to win."
    ],
    "code": [
        "\ndef score(state: dict, action: str) -> float:\n    # Extract the trump suit from the game state\n    trump_suit = state[\"common\"][\"trump_suit\"]\n    \n    # Initialize the score components\n    trump_value_score = 0\n    trump_count_score = 0\n    \n    # Card rank values as per game rules with A being the highest and 2 being the lowest\n    rank_values = {'2': 1, '3': 2, '4': 3, '5': 4, '6': 5, '7': 6, '8': 7, '9': 8, \n                   '10': 9, 'J': 10, 'Q': 11, 'K': 12, 'A': 13}\n    \n    # Get the current player's hand\n    current_player_hand = state[\"players\"][state[\"common\"][\"current_player\"]][\"facedown_cards\"][\"hand\"]\n    \n    # Evaluate the strength of the trump cards in the player's hand\n    for card in current_player_hand:\n        if card[\"suit\"] == trump_suit:\n            # Points for having a trump card, scaled by its rank\n            trump_count_score += 1\n            trump_value_score += rank_values[card[\"rank\"]]\n    \n    # Scale the trump count score to a maximum of 1\n    trump_count_score = min(trump_count_score / 6, 1)\n    \n    # The maximum total rank value can be 13 (for an Ace). Scale to fit between 0 and 1\n    max_trump_value_possible = 13 * 6  # All trumps, all high Aces\n    trump_value_score = trump_value_score / max_trump_value_possible\n    \n    # Combine scores. Adjust weighting as per desired strategy emphasis\n    result_score = 0.5 * trump_count_score + 0.5 * trump_value_score\n\n    # Return the final estimated score between 0 and 1\n    return result_score\n",
        "\ndef score(state: dict, action: str) -> float:\n    # Extract relevant information from the state\n    current_player = state[\"common\"][\"current_player\"]\n    trump_suit = state[\"common\"][\"trump_suit\"]\n    deck_size = state[\"common\"][\"facedown_cards\"][\"deck_size\"]\n    player_data = state[\"players\"][current_player]\n    player_hand = player_data[\"facedown_cards\"][\"hand\"]\n    player_trick_points = player_data[\"public\"][\"trick_points\"]\n    player_collected_cards = player_data[\"faceup_cards\"][\"collected_cards\"]\n    \n    # Base score from trick points\n    max_score = 10  # Maximum points to win the game\n    base_score = player_trick_points / max_score\n    \n    # Consider the strength of player's hand and trump cards\n    hand_trumps = [card for card in player_hand if card[\"suit\"] == trump_suit]\n    collected_trumps = [card for card in player_collected_cards if card[\"suit\"] == trump_suit]\n    strong_hand_cards = sum(1 for card in player_hand if card[\"rank\"] in [\"A\", \"K\", \"Q\", \"J\", \"10\"])\n    \n    # Value hand strength and trump cards\n    hand_strength = (len(hand_trumps) + strong_hand_cards) / len(player_hand) if player_hand else 0\n    collected_strength = len(collected_trumps) / 6  # Assuming 6 is the max trumps collected\n    \n    # Calculate value of the top card in the stock\n    stock_value = 0\n    if deck_size > 0:\n        top_card_rank = int(state[\"common\"][\"faceup_cards\"][\"trump_card\"][\"rank\"]) if state[\"common\"][\"faceup_cards\"][\"trump_card\"][\"rank\"].isdigit() else 10 + \"JQKA\".index(state[\"common\"][\"faceup_cards\"][\"trump_card\"][\"rank\"])\n        stock_value = top_card_rank / 13  # 13 is the number of ranks\n\n    # Combine parts with different weights\n    result_score = 0.4 * base_score + 0.3 * hand_strength + 0.2 * collected_strength + 0.1 * stock_value\n    \n    # Normalize the result to ensure it's within the 0 to 1 range\n    return min(max(result_score, 0), 1)\n",
        "\ndef score(state: dict, action: dict) -> float:\n    # Extract relevant information from the game state\n    current_player_index = state['common']['current_player']\n    trump_suit = state['common']['trump_suit']\n    deck_size = state['common']['facedown_cards']['deck_size']\n    \n    # Extract player-specific information\n    player_data = state['players'][current_player_index]\n    player_trick_points = player_data['public']['trick_points']\n    player_hand = player_data['facedown_cards']['hand']\n    \n    # Assign points based on card ranks\n    rank_values = {'A': 4, 'K': 3, 'Q': 2, 'J': 1, '10': 0.5, '9': 0.4, '8': 0.3, '7': 0.2, '6': 0.1, '5': 0.1, '4': 0.1, '3': 0.1, '2': 0.1}\n    \n    # Define a helper function to calculate suit strength\n    def calculate_suit_strength(hand, trump_suit):\n        suit_strength = {'clubs': 0, 'diamonds': 0, 'hearts': 0, 'spades': 0}\n        for card in hand:\n            if card['suit'] != trump_suit:\n                suit_strength[card['suit']] += rank_values.get(card['rank'], 0)\n        return suit_strength\n\n    # Calculate suit strength ignoring trump suit\n    suit_strength = calculate_suit_strength(player_hand, trump_suit)\n    \n    # Consider the high, low, jack, and game approach to scoring\n    score_contributions = {\n        'high': 1 if any(card['rank'] == 'A' and card['suit'] == trump_suit for card in player_hand) else 0,\n        'low': 1 if any(card['rank'] == '2' and card['suit'] == trump_suit for card in player_hand) else 0,\n        'jack': 1 if any(card['rank'] == 'J' and card['suit'] == trump_suit for card in player_hand) else 0,\n        'game': sum(rank_values.get(card['rank'], 0) for card in player_hand if card['suit'] == trump_suit)\n    }\n    \n    # Normalize game score to range 0 - 1\n    game_score = (player_trick_points + sum(score_contributions.values())) / 10\n    \n    # Account for potential deck influence\n    deck_influence = 1 - (deck_size / 52)\n    \n    # Consider current action to adjust score\n    action_value = 0.1  # Assume some basic weightage for performing actions\n    if action['action'] == \"play\":\n        action_value += 0.3 * suit_strength.get(action['args']['suit'], 0)\n    \n    # Calculate the estimated probability of winning (reward score)\n    result_score = min(1.0, max(0.0, (game_score * 0.6) + (deck_influence * 0.3) + (action_value * 0.1)))\n\n    return result_score\n",
        "\ndef score(state: dict, action: dict) -> float:\n    def card_value(card):\n        rank_values = {\"A\": 1, \"K\": 0.9, \"Q\": 0.8, \"J\": 0.7, \"10\": 0.6, \"9\": 0.5, \"8\": 0.4, \"7\": 0.3, \"6\": 0.2, \"5\": 0.1, \"4\": 0.05, \"3\": 0.02, \"2\": 0.01}\n        return rank_values.get(card[\"rank\"], 0)\n    \n    score_progress = 0\n    current_player = state[\"common\"][\"current_player\"]\n    trump_suit = state[\"common\"][\"trump_suit\"]\n    \n    # Assess player's hand and potential to score points\n    player_hand = state[\"players\"][current_player][\"facedown_cards\"][\"hand\"]\n    player_trick_points = state[\"players\"][current_player][\"public\"][\"trick_points\"]\n\n    # Assess possible High, Low, Jack from hand\n    for card in player_hand:\n        if card[\"suit\"] == trump_suit:\n            if card[\"rank\"] == \"A\":\n                score_progress += 0.3 # High\n            elif card[\"rank\"] == \"2\":\n                score_progress += 0.1 # Low\n            elif card[\"rank\"] == \"J\":\n                score_progress += 0.2 # Jack\n            else:\n                score_progress += card_value(card)\n\n    # Assess collected cards for point potential\n    collected_cards = state[\"players\"][current_player][\"faceup_cards\"][\"collected_cards\"]\n    game_score = sum(card_value(card) for card in collected_cards if card[\"suit\"] == trump_suit)\n\n    # Calculate a score based on current action's potential\n    action_card = action.get(\"args\", {})\n    action_value = card_value(action_card)\n    \n    # Total progression potential\n    total_score = player_trick_points + score_progress + game_score + action_value\n\n    # Normalize to fit within 0 to 1 range\n    max_possible_score = 10.0  # Arbitrary max score for normalization purposes\n    result_score = min(total_score / max_possible_score, 1.0)\n    \n    return result_score\n\n# Example input\nexample_state = {\n    \"common\": {\n        \"num_players\": 2,\n        \"current_player\": 0,\n        \"current_leader\": 0,\n        \"current_winner\": None,\n        \"is_over\": True,\n        \"winner\": 0,\n        \"trump_suit\": \"clubs\",\n        \"facedown_cards\": {\"deck_size\": 34},\n        \"faceup_cards\": {\"trump_card\": {\"rank\": \"8\", \"suit\": \"clubs\"}, \"current_trick\": []}\n    },\n    \"players\": [\n        {\n            \"public\": {\"trick_points\": 10, \"current_player\": True},\n            \"private\": {},\n            \"facedown_cards\": {\n                \"hand\": [\n                    {\"rank\": \"8\", \"suit\": \"hearts\"},\n                    {\"rank\": \"7\", \"suit\": \"hearts\"},\n                    {\"rank\": \"3\", \"suit\": \"spades\"},\n                    {\"rank\": \"10\", \"suit\": \"diamonds\"},\n                    {\"rank\": \"8\", \"suit\": \"clubs\"},\n                    {\"rank\": \"5\", \"suit\": \"clubs\"}\n                ]\n            },\n            \"faceup_cards\": {\"collected_cards\": [{\"rank\": \"6\", \"suit\": \"clubs\"}, {\"rank\": \"10\", \"suit\": \"clubs\"}]}\n        },\n        {\n            \"public\": {\"trick_points\": 4, \"final_showdown\": True},\n            \"facedown_cards\": {\n                \"hand\": [\n                    {\"rank\": \"J\", \"suit\": \"spades\"},\n                    {\"rank\": \"A\", \"suit\": \"spades\"},\n                    {\"rank\": \"K\", \"suit\": \"diamonds\"},\n                    {\"rank\": \"7\", \"suit\": \"spades\"},\n                    {\"rank\": \"3\", \"suit\": \"diamonds\"},\n                    {\"rank\": \"8\", \"suit\": \"diamonds\"}\n                ]\n            },\n            \"faceup_cards\": {\"collected_cards\": [{\"rank\": \"K\", \"suit\": \"hearts\"}, {\"rank\": \"2\", \"suit\": \"clubs\"}, {\"rank\": \"6\", \"suit\": \"diamonds\"}, {\"rank\": \"5\", \"suit\": \"diamonds\"}]}\n        }\n    ],\n    \"recent_history\": [\n        {\"type\": \"action\", \"player_id\": 0, \"action\": {\"action\": \"play\", \"args\": {\"suit\": \"clubs\", \"rank\": \"10\"}, \"id\": 1}, \"msg\": \"Player 0 decides to: play-(suit: clubs, rank: 10)\"},\n        {\"type\": \"info\", \"msg\": \"Player 0 plays 10-clubs.\", \"role\": None},\n        {\"type\": \"info\", \"msg\": \"Trick complete: ['6-clubs', '10-clubs']\", \"role\": None},\n        {\"type\": \"info\", \"msg\": \"Player 0 wins the trick with 10-clubs.\", \"role\": None},\n        {\"type\": \"info\", \"msg\": \"Player 0 draws a card from the deck.\", \"role\": None},\n        {\"type\": \"info\", \"msg\": \"Player 1 draws a card from the deck.\", \"role\": None},\n        {\"type\": \"info\", \"msg\": \"Player 0 leads the next trick.\", \"role\": None},\n        {\"type\": \"info\", \"msg\": \"Player 0 wins the game with 10 points. Collected cards: ['6-clubs', '10-clubs']\", \"role\": None}\n    ],\n    \"legal_actions\": []\n}\n\nexample_action = {\"action\": \"play\", \"args\": {\"suit\": \"clubs\", \"rank\": \"10\"}}\n\n# Example of usage\n#print(score(example_state, example_action))\n"
    ]
}