{
    "game_description": "Rank of Cards\n\nThe cards in each suit rank: K (high), Q, J, 10, 9, 8, 7, 6, 5, 4, 3, 2, A.\n\n### The Ante\n\nEach player puts one chip in the pot before each deal.\n\n### The Deal\n\nDeal the cards one at a time face down, beginning with the player on the left. All the cards are dealt, and some players may receive fewer cards than others. It is customary for each player with fewer cards to ante one additional chip.\n\n### Object of the Game\n\nThe goal is to be the first player to get rid of all of their cards.\n\n### The Play\n\nBeginning to the left of the dealer, each person must play a card if possible.\n\nAll cards played remain face up on the table, arranged in four rows of the four suits.\n\nThe plays that may be made are:\n\nAny seven or any card in suit and sequence to a card previously played.\n\nAs the sevens are played, they are placed in a row in the center of the table.\n\nThe sixes are placed in another row to the right - the fives and lower cards in sequence are piled on the sixes.\n\nThe eights are placed on the left of the sevens in their respective suits - nines and higher cards in sequence are piled on the eights.\n\nEach player must play a card during their turn if possible; if the person cannot play, they put one chip in the pot and the turn passes to the left. The game ends when one player gets rid of all of their cards. Each opponent then pays the pot one chip for each card remaining in their hand, and the winner takes the pot.\n\n### Irregularities\n\nIf a player passes when they could have played, the offender must pay three chips into the pot. If the player passed when they were able to play a seven, they must pay an additional five chips to the players holding the six and the eight of the same suit.\n\n### How to Keep Score\n\nOne can play a series of rounds, scoring 1 point for each card each player has remaining at the end of each round. When one player reaches 100 points, the game is over and the player who then has the smallest score is the overall winner.",
    "input_description": "Example: \n{\"common\": {\"num_players\": 4, \"current_player\": 2, \"pot\": 5, \"played_cards\": {\"hearts\": [{\"rank\": \"7\", \"suit\": \"hearts\"}, {\"rank\": \"8\", \"suit\": \"hearts\"}], \"diamonds\": [{\"rank\": \"7\", \"suit\": \"diamonds\"}, {\"rank\": \"8\", \"suit\": \"diamonds\"}], \"clubs\": [], \"spades\": [{\"rank\": \"7\", \"suit\": \"spades\"}]}, \"is_over\": false, \"winner\": null, \"facedown_cards\": {\"deck_size\": 0}}, \"players\": [{\"public\": {\"num_cards\": 12, \"score\": 0, \"chips_contributed\": 2}, \"facedown_cards\": {\"hand_size\": 12}}, {\"public\": {\"num_cards\": 11, \"score\": 0, \"chips_contributed\": 1}, \"facedown_cards\": {\"hand_size\": 11}}, {\"public\": {\"num_cards\": 12, \"score\": 0, \"chips_contributed\": 1, \"current_player\": true}, \"private\": {}, \"facedown_cards\": {\"hand\": [{\"rank\": \"A\", \"suit\": \"spades\"}, {\"rank\": \"A\", \"suit\": \"hearts\"}, {\"rank\": \"Q\", \"suit\": \"diamonds\"}, {\"rank\": \"5\", \"suit\": \"clubs\"}, {\"rank\": \"6\", \"suit\": \"hearts\"}, {\"rank\": \"K\", \"suit\": \"diamonds\"}, {\"rank\": \"K\", \"suit\": \"clubs\"}, {\"rank\": \"10\", \"suit\": \"spades\"}, {\"rank\": \"A\", \"suit\": \"diamonds\"}, {\"rank\": \"K\", \"suit\": \"spades\"}, {\"rank\": \"J\", \"suit\": \"hearts\"}, {\"rank\": \"10\", \"suit\": \"hearts\"}]}}, {\"public\": {\"num_cards\": 12, \"score\": 0, \"chips_contributed\": 1}, \"facedown_cards\": {\"hand_size\": 12}}], \"recent_history\": [{\"type\": \"action\", \"player_id\": 2, \"action\": {\"action\": \"play\", \"args\": {\"card_index\": 4}, \"id\": 0}, \"msg\": \"Player 2 decides to: play-(card_index: 4)\"}, {\"type\": \"info\", \"msg\": \"Player 2's turn with action: play\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Player 2 plays 7 of hearts.\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Player 2 now has 12 cards.\", \"role\": null}, {\"type\": \"turn_end\", \"player_id\": 2, \"msg\": \"---------- End of Player 2's turn ----------\"}, {\"type\": \"action\", \"player_id\": 3, \"action\": {\"action\": \"play\", \"args\": {\"card_index\": 10}, \"id\": 1}, \"msg\": \"Player 3 decides to: play-(card_index: 10)\"}, {\"type\": \"info\", \"msg\": \"Player 3's turn with action: play\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Player 3 plays 7 of diamonds.\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Player 3 now has 12 cards.\", \"role\": null}, {\"type\": \"turn_end\", \"player_id\": 3, \"msg\": \"---------- End of Player 3's turn ----------\"}, {\"type\": \"action\", \"player_id\": 0, \"action\": {\"action\": \"play\", \"args\": {\"card_index\": 0}, \"id\": 0}, \"msg\": \"Player 0 decides to: play-(card_index: 0)\"}, {\"type\": \"info\", \"msg\": \"Player 0's turn with action: play\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Player 0 plays 8 of hearts.\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Player 0 now has 12 cards.\", \"role\": null}, {\"type\": \"turn_end\", \"player_id\": 0, \"msg\": \"---------- End of Player 0's turn ----------\"}, {\"type\": \"action\", \"player_id\": 1, \"action\": {\"action\": \"play\", \"args\": {\"card_index\": 11}, \"id\": 1}, \"msg\": \"Player 1 decides to: play-(card_index: 11)\"}, {\"type\": \"info\", \"msg\": \"Player 1's turn with action: play\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Player 1 plays 8 of diamonds.\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Player 1 now has 11 cards.\", \"role\": null}], \"legal_actions\": [{\"action\": \"play\", \"args\": {\"card_index\": 4}, \"id\": 0}]}\n\nExplanation: \n{\"common\": \"An object containing state variables that are shared across all players.\", \"common.num_players\": \"An integer representing the number of players in the game, which is 4 in this example.\", \"common.current_player\": \"An integer indexing the player who is supposed to take the next action, which is player 2 in this example.\", \"common.pot\": \"An integer representing the total number of chips in the pot, which is 5 in this example.\", \"common.played_cards\": \"An object where keys are suit names ('hearts', 'diamonds', 'clubs', 'spades') and values are lists of card objects representing the cards that have been played and sorted by rank.\", \"common.is_over\": \"A boolean indicating whether the game is over or not.\", \"common.winner\": \"The index of the player who has won the game, or null if the game hasn't ended yet.\", \"common.facedown_cards\": \"An object containing information about the deck; 'deck_size' is used to indicate the number of cards remaining in the deck, which is 0 in this example.\", \"players\": \"A list where each element is a dictionary of a player's state information.\", \"players[i].public\": \"An object containing public information about player i, such as 'num_cards', 'score', and 'chips_contributed'.\", \"players[i].public.num_cards\": \"An integer representing the number of cards player i holds, which is the same as 'hand_size' for undealt hands in this example.\", \"players[i].public.chips_contributed\": \"The total number of chips that player i has contributed to the pot.\", \"players[i].facedown_cards\": \"An object containing private information about player i's current hand, with 'hand_size' indicating the number of cards held.\", \"players[i].facedown_cards.hand\": \"A list of card objects player i has in their hand. This list details the cards for the current player.\", \"recent_history\": \"A list of events that occurred recently in the game. Each event is a dictionary with a 'type' and potentially other descriptive fields.\", \"recent_history[i].type\": \"The type of the event, such as 'action' or 'info'.\", \"recent_history[i].player_id\": \"The ID of the player involved in the event.\", \"recent_history[i].action\": \"An object containing details of the action taken by the player, including the action type and arguments.\", \"recent_history[i].msg\": \"A text message describing the event that took place.\", \"legal_actions\": \"A list of possible actions the current player can legally perform, with each action represented as an object containing an 'action' and 'args'.\"}",
    "policy_list": [
        "**Optimal Card Play Strategy**\nPrioritize playing cards based on potential for future plays and minimizing penalties. Begin with playing a seven if available. Otherwise, play cards that continue existing sequences, starting with those that open new possibilities for your own future plays. If no appropriate card can be played and no sevens are available, reluctantly place a chip in the pot."
    ],
    "code": [
        "\ndef score(state: dict, action: dict) -> float:\n    # Extracting relevant data from the state\n    num_players = state['common']['num_players']\n    current_player_idx = state['common']['current_player']\n    played_cards = state['common']['played_cards']\n    pot = state['common']['pot']\n    \n    # Get current player's information\n    current_player = state['players'][current_player_idx]\n    num_cards = current_player['public']['num_cards']\n    hand = current_player['facedown_cards']['hand']\n    \n    # Understanding the action\n    action_type = action['action']\n    card_index = action['args']['card_index']\n    card_to_play = hand[card_index]\n    \n    # Initial base score\n    result_score = 0.5 # A neutral starting point\n    \n    # 1. Prioritize playing a seven\n    if card_to_play['rank'] == '7':\n        result_score += 0.3  # Prioritizing playing a 7\n\n    # 2. Continue sequence\n    rank_order = [\"K\", \"Q\", \"J\", \"10\", \"9\", \"8\", \"7\", \"6\", \"5\", \"4\", \"3\", \"2\", \"A\"]\n    card_rank_index = rank_order.index(card_to_play['rank'])\n    suit = card_to_play['suit']\n    \n    if suit in played_cards:\n        played_ranks = [rank_order.index(card['rank']) for card in played_cards[suit]]\n        # Check if the card continues a sequence\n        if (card_rank_index - 1 in played_ranks) or (card_rank_index + 1 in played_ranks):\n            result_score += 0.2  # Favorable for future plays\n\n    # 3. Avoid penalties: ensure there's no missed play or unnecessary chip contribution\n    if (action_type == \"play\") and (result_score < 0.5):\n        result_score += 0.1  # Adjust score lower for non-sequential moves\n\n    # 4. Factor in the number of chips in the pot\n    if num_cards == 1:\n        result_score += 0.1  # High potential to win after the move\n    \n    # Normalize result_score to be between 0 and 1\n    result_score = min(max(result_score, 0), 1)\n    \n    return result_score\n"
    ]
}