{
    "game_description": "In-Between is not very popular at casinos, but is often played in home Poker games as a break from Poker itself. The rules below are for the home game, which is easily adaptable for casino play.\n\n### Rank of Cards\n\nA (high), K, Q, J, 10, 9, 8, 7, 6, 5, 4, 3, 2.\n\n### Object of the Game\n\nThe goal is to be the player with the most chips at the end of the game.\n\n### The Ante\n\nChips are distributed to the players, and each players puts one chip in the center of the table to form a pool or pot.\n\n### The Draw\n\nAny player deals one card face up, to each player in turn, and the player with the highest card deals first.\n\n### The Shuffle, Cut, and Deal\n\nAny player may shuffle, and the dealer shuffles last. The player to the dealer's right cuts the cards. The dealer turns up two cards and places them in the middle of the table, positioning them so that there is ample room for a third card to fit in between.\n\n### The Betting\n\nThe player on the dealer's left may bet up to the entire pot or any portion of the number of chips in the pot, but they must always bet a minimum of one chip. When the player has placed a bet, the dealer turns up the top card from the pack and places it between the two cards already face up. If the card ranks between the two cards already face up, the player wins and takes back the amount of his bet plus an equivalent amount from the pot. If the third card is not between the face-up cards, or is of the same rank as either of them, the player loses his bet, and it is added to the pot. If the two face-up cards up are consecutive, the player automatically loses, and a third card need not be turned up. If the two face-up cards are the same, the player wins two chips and, again, no third card is turned up. (In some games, the player is paid three chips when this occurs.)\n\n\"Acey-Deucey\" (ace, 2) is the best combination, and a player tends to bet the whole pot, if they can. This is because the only way an ace-deuce combination can lose is if the third card turned up is also an ace or a deuce.\n\nAfter the first player has finished, the dealer clears away the cards and places them face down in a pile. The next player then places a bet, and the dealer repeats the same procedure until all the players, including the dealer, have had a turn.\n\nIf at any time, the pot has no more chips in it (because a player has \"bet the pot\" and won), each player again puts in one chip to restore\u00a0the pot.\n\nWhen every player has had a turn to bet, the deal passes to the player on the dealer's left, and the game continues.",
    "input_description": "Example: \n{\"common\": {\"num_players\": 4, \"current_player\": 0, \"dealer\": 3, \"pot\": 27, \"community_cards\": {\"faceup_cards\": []}, \"facedown_cards\": {\"deck_size\": 41}, \"is_over\": false, \"winner\": null}, \"players\": [{\"public\": {\"chips\": 2, \"current_player\": true}}, {\"public\": {\"chips\": 1}}, {\"public\": {\"chips\": 7}}, {\"public\": {\"chips\": 3}}], \"recent_history\": [{\"type\": \"action\", \"player_id\": 0, \"action\": {\"action\": \"bet\", \"args\": {\"bet\": 1}, \"id\": 0}, \"msg\": \"Player 0 decides to: bet-(bet: 1)\"}, {\"type\": \"info\", \"msg\": \"Player 0's action: {'action': 'bet', 'args': {'bet': 1}, 'id': 0}\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Player 0 bets 1 chips.\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Third card drawn is Q-clubs.\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Player 0 loses 1 chips to the pot.\", \"role\": null}, {\"type\": \"turn_end\", \"player_id\": 0, \"msg\": \"---------- End of Player 0's turn ----------\"}, {\"type\": \"action\", \"player_id\": 1, \"action\": {\"action\": \"bet\", \"args\": {\"bet\": 8}, \"id\": 7}, \"msg\": \"Player 1 decides to: bet-(bet: 8)\"}, {\"type\": \"info\", \"msg\": \"Player 1's action: {'action': 'bet', 'args': {'bet': 8}, 'id': 7}\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Player 1 bets 8 chips.\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Third card drawn is 8-clubs.\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Player 1 loses 8 chips to the pot.\", \"role\": null}, {\"type\": \"info\", \"msg\": \"Dealer moves to player 3. Next player is 0.\", \"role\": null}], \"legal_actions\": [{\"action\": \"bet\", \"args\": {\"bet\": 1}, \"id\": 0}, {\"action\": \"bet\", \"args\": {\"bet\": 2}, \"id\": 1}]}\n\nExplanation: \n{\"common\": {\"num_players\": \"The total number of players participating in the game, an integer value.\", \"current_player\": \"The index of the player whose turn it currently is, an integer value.\", \"dealer\": \"The index of the player who is currently the dealer, an integer value.\", \"pot\": \"The total number of chips currently in the pot, an integer value.\", \"community_cards\": {\"faceup_cards\": \"A list of community cards that are currently face-up on the table. At this point, it's an empty list.\"}, \"facedown_cards\": {\"deck_size\": \"The number of cards remaining in the deck, an integer value representing the size of the deck.\"}, \"is_over\": \"A boolean indicating whether the game is over.\", \"winner\": \"The index of the player who has won the game, or null if there is no winner yet.\"}, \"players\": [{\"public\": {\"chips\": \"The number of chips that player 0 currently has, an integer value.\", \"current_player\": \"A boolean indicating if this player is the current player, only present for Player 0.\"}}, {\"public\": {\"chips\": \"The number of chips that player 1 currently has, an integer value.\"}}, {\"public\": {\"chips\": \"The number of chips that player 2 currently has, an integer value.\"}}, {\"public\": {\"chips\": \"The number of chips that player 3 currently has, an integer value.\"}}], \"recent_history\": [{\"type\": \"The type of recent event/action, such as 'action', 'info', or 'turn_end'.\", \"player_id\": \"The index of the player associated with this action or turn end, if applicable.\", \"action\": {\"action\": \"The specific type of action taken by the player (e.g., 'bet').\", \"args\": \"Additional arguments related to the action, such as bet amount.\", \"id\": \"A unique identifier for the action.\"}, \"msg\": \"A human-readable message describing the event.\", \"role\": \"The role or perspective from which the message is generated, often null.\"}, {\"type\": \"The type of recent event/action, such as 'info'.\", \"msg\": \"A human-readable message describing game information or progress.\", \"role\": \"The role or perspective from which the message is generated, often null.\"}], \"legal_actions\": [{\"action\": \"The type of legal action currently available to the current player, such as 'bet'.\", \"args\": {\"bet\": \"The amount that can be bet in this particular legal action.\"}, \"id\": \"A unique identifier for the legal action option.\"}]}",
    "policy_list": [
        "**Strategic Bet Evaluation**\nThe AI evaluates the potential range between two face-up cards and determines the bet based on the probability of the third card landing between them. If the range between the cards is large, the AI will bet closer to the whole pot, as the chances of winning are higher. This decision is adjusted for cards that decrease the winning range like high neighboring pairs (e.g., King-Queen). On seeing an Ace and a Deuce, the AI will bet the entire pot, leveraging the minimal risk involved."
    ],
    "code": [
        "\ndef score(state: dict, action: dict) -> float:\n    import math\n    \n    rank_order = {'A': 14, '2': 2, '3': 3, '4': 4, '5': 5, '6': 6, '7': 7, '8': 8, '9': 9, '10': 10, 'J': 11, 'Q': 12, 'K': 13}\n    \n    def card_rank(card: str) -> int:\n        return rank_order[card]\n\n    def calculate_range(card1: str, card2: str) -> int:\n        return abs(card_rank(card1) - card_rank(card2)) - 1\n\n    faceup_cards = state['common']['community_cards']['faceup_cards']\n    pot_size = state['common']['pot']\n    current_player_chips = state['players'][state['common']['current_player']]['public']['chips']\n    \n    # Check if there are no faceup cards (not the betting phase)\n    if len(faceup_cards) != 2:\n        return 0.0\n\n    card1, card2 = faceup_cards\n    rank_difference = calculate_range(card1, card2)\n    \n    # If the cards are the same, the player wins automatically\n    if card_rank(card1) == card_rank(card2):\n        return 1.0\n\n    # Calculate probability of winning\n    win_chance = rank_difference / 12.0\n\n    # Strategy for Ace and Deuce (highest win probability)\n    if {card1, card2} == {'A', '2'}:\n        win_chance = 1.0\n\n    # Consider the pot size and current player's chips for normalization\n    normalized_bet = min(current_player_chips, pot_size) / pot_size \n\n    # Action analysis\n    if action.get(\"action\") == \"bet\":\n        bet_amount = action.get('args', {}).get('bet', 0)\n        normalized_bet = bet_amount / pot_size if pot_size else 0\n    \n    # Calculate the result score as a blending of the winning chance and the normalized bet\n    result_score = win_chance * 0.8 + normalized_bet * 0.2\n    \n    return min(1.0, max(0.0, result_score))\n\n# End of the score function\n"
    ]
}